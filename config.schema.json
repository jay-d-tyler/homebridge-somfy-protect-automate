{
  "pluginAlias": "SomfyProtectAutomate",
  "pluginType": "platform",
  "singular": true,
  "headerDisplay": "This plugin creates a switch called **Disarm Somfy Protect** that communicates with the Somfy Protect plugin's HTTP API to disarm your alarm via HomeKit automations.\n\n‚ö†Ô∏è **IMPORTANT:** The Somfy Protect plugin must have the HTTP API enabled (httpPort setting). Both plugins can run on child bridges.\n\n‚ö†Ô∏è **PORT NOTE:** Use port 8582 (default). Port 8581 is reserved for Homebridge Config UI.",
  "footerDisplay": "üí° **Tip:** Make sure the HTTP port and token match what you configured in the Somfy Protect plugin settings.",
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "default": "Somfy Protect Automate"
      },
      "httpPort": {
        "title": "Somfy Protect HTTP API Port",
        "type": "integer",
        "default": 8582,
        "description": "The HTTP port that the Somfy Protect plugin is listening on. Must match the httpPort setting in Somfy Protect plugin. Note: Port 8581 is used by Homebridge Config UI."
      },
      "httpToken": {
        "title": "HTTP API Token (Optional)",
        "type": "string",
        "description": "The authentication token if you configured httpToken in the Somfy Protect plugin. Leave blank if no token is set.",
        "x-schema-form": {
          "type": "password"
        }
      }
    }
  },
  "layout": [
    {
      "type": "fieldset",
      "title": "HTTP API Configuration",
      "expandable": false,
      "items": [
        {
          "key": "httpPort",
          "type": "number",
          "description": "This must match the httpPort configured in the Somfy Protect plugin settings."
        },
        {
          "key": "httpToken",
          "description": "Optional security token. Only needed if you set httpToken in Somfy Protect plugin."
        }
      ]
    }
  ]
}
